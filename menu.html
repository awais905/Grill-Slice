<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Grill & Slice - Menu</title>
<style>
body {
  margin:0; padding:0;
  font-family: Arial, sans-serif;
  background-color: #1a0000;
  color: gold;
}
nav.navbar {
  display: flex; justify-content: space-between; background-color: #b30000; padding: 15px 20px; align-items: center;
}
nav .logo { font-size: 24px; font-weight: bold; color: gold; }
nav ul.nav-links { list-style: none; display: flex; gap: 15px; }
nav ul.nav-links li a { color: gold; text-decoration: none; font-weight: bold; transition: 0.3s; }
nav ul.nav-links li a:hover { color: #fff; }

.section { padding:40px 20px; text-align:center; }

.menu-items {
  display:flex; flex-wrap:wrap; justify-content:center; gap:20px;
}
.menu-item {
  width:200px; background-color:#330000; border-radius:10px; padding:10px; cursor:pointer;
  transition: transform 0.3s;
}
.menu-item:hover { transform:scale(1.05); }
.menu-item img { width:100%; border-radius:10px; }
.menu-item p { color: gold; font-weight:bold; margin-top:10px; }

#recommendationSectionWrapper {
  position: relative;
  overflow: hidden;
  margin-bottom: 40px;
}
#recommendationSection {
  display:flex;
  gap:20px;
  transition: transform 0.5s ease-in-out;
}

.carousel-arrow {
  position: absolute;
  top:50%;
  transform: translateY(-50%);
  background-color:#b30000;
  color: gold;
  border:none;
  padding:10px;
  cursor:pointer;
  border-radius:50%;
  font-size:18px;
}
.carousel-arrow:hover { background-color: gold; color:#b30000; }

#prev { left:10px; }
#next { right:10px; }

.language-button {
  position: fixed; top:20px; right:20px; background-color: #b30000; color: gold; padding:10px 15px;
  border-radius:10px; font-weight:bold; cursor:pointer;
}
.language-button:hover { background-color: gold; color:#b30000; transform: scale(1.05); }
</style>
</head>
<body>

<nav class="navbar">
  <div class="logo">Grill & Slice</div>
  <ul class="nav-links">
    <li><a href="index.html">Home</a></li>
    <li><a href="menu.html">Menu</a></li>
    <li><a href="about.html">About</a></li>
    <li><a href="contact.html">Contact</a></li>
  </ul>
</nav>

<div class="section">
  <h2>Recommended for You</h2>
  <div id="recommendationSectionWrapper">
    <button id="prev" class="carousel-arrow">&#10094;</button>
    <div id="recommendationSection"></div>
    <button id="next" class="carousel-arrow">&#10095;</button>
  </div>
</div>

<div class="section">
  <h2>Our Menu</h2>
  <div class="menu-items">
    <div class="menu-item" onclick="goToOrder('Margherita Pizza')">
      <img src="margherita.jpg">
      <p>Margherita Pizza</p>
    </div>
    <div class="menu-item" onclick="goToOrder('BBQ Chicken Pizza')">
      <img src="bbqchicken.jpg">
      <p>BBQ Chicken Pizza</p>
    </div>
    <div class="menu-item" onclick="goToOrder('Cheese Burger')">
      <img src="cheeseburger.jpg">
      <p>Cheese Burger</p>
    </div>
    <div class="menu-item" onclick="goToOrder('Veg Burger')">
      <img src="vegburger.jpg">
      <p>Veg Burger</p>
    </div>
    <div class="menu-item" onclick="goToOrder('French Fries')">
      <img src="fries.jpg">
      <p>French Fries</p>
    </div>
    <div class="menu-item" onclick="goToOrder('Coke')">
      <img src="coke.jpg">
      <p>Coke</p>
    </div>
    <div class="menu-item" onclick="goToOrder('Garlic Bread')">
      <img src="garlicbread.jpg">
      <p>Garlic Bread</p>
    </div>
  </div>
</div>

<div class="language-button">Language</div>

<script>
// Navigate to contact page with pre-selected item
function goToOrder(item){
  window.location.href = `contact.html?item=${encodeURIComponent(item)}`;
}

// AI-based Recommendations
const menuItems = [
  {name:'Margherita Pizza', img:'margherita.jpg'},
  {name:'BBQ Chicken Pizza', img:'bbqchicken.jpg'},
  {name:'Cheese Burger', img:'cheeseburger.jpg'},
  {name:'Veg Burger', img:'vegburger.jpg'},
  {name:'French Fries', img:'fries.jpg'},
  {name:'Coke', img:'coke.jpg'},
  {name:'Garlic Bread', img:'garlicbread.jpg'}
];

const clickedItems = JSON.parse(localStorage.getItem('clickedItems')) || [];
const recommendationSection = document.getElementById('recommendationSection');

function getTopRecommendations(){
  const countMap = {};
  clickedItems.forEach(item => {
    if(countMap[item.item]) countMap[item.item]++;
    else countMap[item.item] = 1;
  });
  const sorted = Object.entries(countMap).sort((a,b)=>b[1]-a[1]);
  return sorted.map(x=>x[0]);
}

const topItems = getTopRecommendations();

let recommendations = [];
if(topItems.length===0){
  recommendations = menuItems.slice(0,5);
}else{
  topItems.forEach(itemName=>{
    const menuItem = menuItems.find(m=>m.name===itemName);
    if(menuItem) recommendations.push(menuItem);
  });
}

// Populate carousel
recommendations.forEach(menuItem=>{
  const div = document.createElement('div');
  div.className='menu-item';
  div.onclick = ()=>goToOrder(menuItem.name);
  div.innerHTML = `<img src="${menuItem.img}"><p>${menuItem.name}</p>`;
  recommendationSection.appendChild(div);
});

// Carousel sliding logic
let scrollIndex = 0;
const maxScroll = recommendations.length - 3; // show 3 items at a time
document.getElementById('next').onclick = ()=>{
  if(scrollIndex < maxScroll) scrollIndex++;
  recommendationSection.style.transform = `translateX(${-scrollIndex*220}px)`;
}
document.getElementById('prev').onclick = ()=>{
  if(scrollIndex > 0) scrollIndex--;
  recommendationSection.style.transform = `translateX(${-scrollIndex*220}px)`;
}
</script>

</body>
</html>
